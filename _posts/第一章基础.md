---
title: 第一章 基础
date: 2018-10-06 16:07:40
categories:
- 计算机网络
tags:
- 计算机网络
---
# 第一章 基础

## 一、什么是网络

### （1） 什么是网络
- 将两个或多个实体连接为在一起的系统；


### （2）计算机网络

- 自主计算机的互联集合
- 互联网是一个典型的计算机网络
<!-- more -->
### （3）协议

- 控制发送和接受信息
- 例如：TCP、IP、HTTP、Skype


## 二、如何建造计算机网络

### 1 连通性
（1）链路
- 点到点链路
- 节点：中间结点

（2）交换网络
```
交换网络

一种基础网络

两种类型的交换网络：电路交换和分组交换
```

（3）网络互连
- 多个独立的网络相互连接形成互联网
- 路由器、网关：连接两个或多个网络的特殊节点

（4）主机和主机的连通性
- 直接连接或间接连接
- 网络节点的识别

（5）路由
- 如何将报文发至目的节点


### 2 可拓展的连通性

（1）梅特卡夫定律
- 是指网络价值以用户数量的平方的速度增长。 这个法则告诉我们：网络中总人数是n，网络价值是n×n=n²。

### 3 通信网络的分类

- 交换网络（考试会考计算时间）
```
电路交换--多路复用、时分复用、频分复用
        --网络资源被分成片
        --优点：带宽保证、通信可靠、路由机制简单、数据包结构的额外开销小
        --缺点：浪费带宽、受限连接、连接建立延时、网络状态
        --电话网
        
分组交换：数据通过离散的数据分组进行传输
        --先把较长的报文划分较短的、固定长的数据段
        --每个数据前添加收不构成分组
        --统计复用
        --实例：ip数据网
报文交换
```
- 广播网络

```
传播时延

传输时延
```
```
排队

丢包
```

### 4 通用服务

#### (1)什么是通用服务
- 一些可以被应用车农夫调用的构件

#### (2)相同的通信模式

- 请求/响应
- 消息流

#### (3)三类故障

- 比特错误
- 分组丢失
- 节点宕机

### 5 分层结构中的一些基本概念

#### （1）实体



#### （2）协议
- 语法：数据与控制信息的结构或格式
- 语义：需要发出何种控制信息，完成何的种动作以及做出何种响应。
- 同步：事件实现顺序详细说明。




## 三、非常重要，但是自己已经弄懂的了问题

### 1 电路交换的有点和缺点，以及需要辩证地理解其有缺点。
答：电路交换的优点：带宽保证、通信可靠、路由机制简单、数据包结构的额外开销小。

缺点：浪费带宽、受限连接、连接建立延时、网络状态。

理解：电路交换的优缺点实质就是相互关联的，在一定的环境下，优点可能演变为缺点，缺点可能演变为优点，我们只有真正理解事物的本质，才能让事物为我们所用，取长补短。

### 2 分组交换的优点和缺点，以及需要辩证地理解其有缺点。

答：优点：不存在带宽浪费、多路复用技术、服务、健壮性。

缺点：无法保证带宽、每个分组的开销、复杂的端到端控制、时延和拥塞。


## 四、自己没有弄懂的问题

### 1 关于计算机网络应用问题，它对应着现代企业中的什么工作，下一代计算机网络会是怎样的？

### 2 Ipv4和Ipv6的相同和区别？

### 3 对于分组交换存在的丢包情况，我们在平时上网中是不是下载一个东西，在下到一半的情况下突然下载失败了，这是不是就是丢包了？如果丢包，用户层面是如何体现的？

### 4 对于网络7层我们在什么样的工程应用中会遇到，这7层本质是协议，还是什么，设计这么多层是否显得过于冗余？


## 五、分层的协议层

### 一、封装
- 通过封装, 协议实体可以在分组中携带信息通告对等实体如何处理收到的分组
- 首部/尾部的加载及分-离

### 二、复用与解复用

- 复用(Multiplexing)来自源节点不同高层实体的数据，将数据解复用(Demultiplexing)至目的节点对应的高层实体
- 能够区别数据所属的高层实体需要
- 各种不同类型的解多路复用密钥
- 在接收端主机解复用：把收到的报文传送到正确的socket
- 在发送端主机采用复用：从多个得到数据，并添
加头部信息 (后面的分用会socket用到)

### 六、OSI七层模型
#### 1.各层功能定义

- 应用层：向终端用户提供各类应用服务, 例如: ftp, telnet
- 表示层：
数据结构表示, 数据格式转换(加密、压缩)
- 会话层：
提供会话管理, 接入控制, 数据传输同步等
- 传输层：
实现终端进程之间的逻辑信道
- 网络层：
处理分组交换网络中的路由选择
- 数据链路层：
收集比特流组合成帧
- 物理层：
处理通信链路上的原始比特流传输

#### 2.传输模型

- 每个层次可以在数据的前后追加本层附加的数据

#### 3. 网络体系架构的五层模型

- 应用进程数据先传送到应用层
- 加上应用层首部，成为应用层 PDU
- 加上运输层首部，成为运输层报文
- 加上网络层首部，成为 IP 数据报（或分组）
- 最下面的物理层把比特流传送到物理媒体


### 六、互联网的体系结构

#### 1.分层结构
- 应用层
- 传输层：
进程与进程之间的消息传输, 两个主要的协议:
TCP (Transmission Control Protocol)
UDP (User Datagram Protocol) 
- IP层：
主机到主机的数据分组传输
唯一协议: IP
- 网络接入层：没有指定该层的实际细节，可以是任意一种底层网络

#### 2.设计原则

- 沙漏模型是Internet能够快速适应用户新应用需求和网络技术更新的关键.
- “Simple Core and Complex Host’’ Philosophy
 
#### 3.分组交换网中时延的四个来源
- 节点处理时延 
- 排队延时
- 传输延时
- 传播延时

#### 4.网络性能: 吞吐量
- 吞吐量: 发送者与接收者之间比特交换的速率 (比特/单位时间)
- 瞬时: 在给定时间点的速率



### 七、网络性能

#### 1.链路带宽

- 原始定义：信号的频带宽度, 用 Hertz (Hz) 表示
- 网络定义: 一段特定的时间内网络所能传送的比特数, 用
bits per second (bps)表示

#### 2.应用性能需求

- 平均速率及突发流量
- 内存溢出导致的数据包丢弃
- 时延抖动


### 八.套接字编程

- Socket：一个本地的，应用程序创建的，操作系统控制的接口。
- 套接字(socket): 应用进程之间的接口，实现端到端的传输协议
- Socket API类别
```
PF_INET : 用于互联网编程
PF_UNIX: 用于Unix 管道编程
PF_PACKET:直接访问网络接口 (i.e, 绕过TCP / IP协议栈)
```
- 两种基本socket API分别支持两种传输服务:
```
SOCK_STREAM: 可靠的，字节流服务 (TCP)  SOCK_DGRAM: 非可靠的数据报服务 (UDP)
```



### 没有懂的问题
1.为什么网络体系架构没有像OSI一样分为7层；

2.链路带宽对于吞吐量有什么影响；

3.对于Socket编程没有在华为组这样的使用经历，我们该怎么深入了解socket编程。

### 懂了的问题

#### 1.带宽与吞吐量的区别？
答：吞吐量和带宽是很容易搞混的一个词，两者的单位都是Mbps。先来看两者对应的英语，吞吐量：throughput；带宽：Max net bitrate。当讨论通信链路的带宽时，一般是指链路上每秒所能传送的比特数，它取决于链路时钟速率和信道编码，在计算机网络中又称为线速。可以说以太网的带宽是10Mbps。但是需要区分链路上的可用带宽（带宽）与实际链路中每秒所能传送的比特数（吞吐量）。通常更倾向于用“吞吐量”一词来表示一个系统的测试性能。这样，因为实现受各种低效率因素的影响，所以由一段带宽为10Mbps的链路连接的一对节点可能只达到2Mbps的吞吐量。这样就意味着，一个主机上的应用能够以2Mbps的速度向另外的一个主机发送数据。

#### 2.网络延迟是怎样产生的？

网络延迟 = 传输延迟 + 处理延迟 + 缓冲队列延迟

- 1）传输延迟这个延迟很好理解，指光、电信号在有线介质上的延迟，或无线电信号在空气介质中的延迟，这种传输延迟只和光速有关、或电信号的传输速度有关，用户无法改变该延迟。对于一条选定的端对端路径，此值是恒定的。
- 2）处理延迟接收IP包，查询转发表，硬件、或软件转发，包括封装、解封装、编码、解码时间，经过设备越多，设备吞吐能力越弱（一秒可以转发多少Gb的数据），延迟越大。但对于一条选定的端对端路径，此值也是恒定的。
- 3）缓冲队列延迟当端到端的路径上，没有任何网络拥塞，缓冲队列的延迟几户为0，网络转发性能达到线速度，好像两端用一根线直连。


